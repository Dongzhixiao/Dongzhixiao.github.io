---
layout:     post
title:      "进行博客迁移"
subtitle:   "2018/01/14 博客"
date:       2018-01-14
author:     "WangXiaoDong"
header-img: "https://github.com/Dongzhixiao/PictureCache/blob/master/diaryPic/20180114.jpg?raw=true"
tags:
    - 日记
    - Python
    - 数据挖掘
    - 机器学习
---

### 时间:2018年1月14日 天气:晴
-----
#####   Author:冬之晓
#####   Email: 347916416@qq.com
----------

```
    今天是周日，我一早来到实验室，但是并不是搞科研，主要是过来进行博客的整理，最近我发现github里面可以使用jekyll这个框架
生成的静态HTML语言进行博客的撰写，非常开心，最近我就在把我以前的日志迁移到github的io上面。
    这样一直弄到了晚上。这时，一起上英语课的杨瑞同学问我一个问题，我决定帮帮她，最后我解决了这个问题，感觉挺有意思的，
下面详细介绍！
```

## Python常用数据挖掘的工具包
python对于数据处理非常有好的语言，比如常用的[scikit-learn](http://scikit-learn.org/stable/ "scikit-learn的官网")和[scipy](https://www.scipy.org/ "scipy的官网")
都可以用来进行机器学习和数据挖掘。同时为了使得结果可是话，Python还提供了非常好用的可视化工具包[matplotlib](https://matplotlib.org/ "matplotlib的官网")和
[seaborn](http://seaborn.pydata.org/ "seaborn的官网")。

## 使用Python进行层次聚类

聚类对于机器学习和数据挖掘来说都是一个非常常用的的工具。其中层聚类又一起显示效果和可解释效果好而在数据处理中非常常用，那是其缺点就是所需的
时间复杂度比较高，但是对于少量数据来说无疑是最好的选择。

我们首先用excle的随机函数`RAND()`生成一个随机数据列表，进行测试，取名为"test.xlsx"，表格内容如下图所示：

![糟糕：图片显示失败，请通知我，非常感谢！](https://github.com/Dongzhixiao/PictureCache/blob/master/diaryPic/20180114_test.png "测试图片")

然后主要代码如下：

```python
import pandas as pd
import seaborn as sns  #用于话热图的工具包
from scipy.cluster import hierarchy  #用于进行层次聚类，话层次聚类图的工具包
from scipy import cluster   
import matplotlib.pyplot as plt
from sklearn import decomposition as skldec #用于主成分分析降维的包

df = pd.read_excel("test.xlsx")
#df = df.T    #python默认每行是一个样本，如果数据每列是一个样本的话，转置一下即可

#开始画层次聚类树状图    
Z = hierarchy.linkage(df, method ='ward',metric='euclidean')
plt.figure()
dn = hierarchy.dendrogram(Z,labels = df.index)

#在某个高度进行剪切
label = cluster.hierarchy.cut_tree(Z,height=0.8)

pca = skldec.PCA(n_components = 0.90)    #这就保证两个数据了
pca.fit(df)   #主城分析时每一行是一个输入数据
result = pca.transform(df)  #计算结果
plt.figure()
plt.scatter(result[:, 0], result[:, 1],
           c=label, edgecolor='k')
for i in range(result[:,0].size):
    #print(result[i,0],result[i,1])
    plt.text(result[i,0],result[i,1],df.index[i])
x_label = 'PC1(%s%%)' % round((pca.explained_variance_ratio_[0]*100.0),2)
y_label = 'PC1(%s%%)' % round((pca.explained_variance_ratio_[1]*100.0),2)
plt.xlabel(x_label)
plt.ylabel(y_label)
plt.show()

#层次聚类的热图和聚类图
sns.clustermap(df,method ='ward',metric='euclidean')
```
![糟糕：图片显示失败，请通知我，非常感谢！](https://github.com/Dongzhixiao/PictureCache/blob/master/diaryPic/20180114_heritage.png "测试图片")


代码在：
[https://github.com/Dongzhixiao/Python_Exercise/tree/master/hierarchy](https://github.com/Dongzhixiao/Python_Exercise/tree/master/hierarchy)
